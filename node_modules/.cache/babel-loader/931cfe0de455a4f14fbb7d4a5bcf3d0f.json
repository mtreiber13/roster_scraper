{"ast":null,"code":"import _slicedToArray from \"/Users/admin/Desktop/Work/roster_scraper/scraper/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/admin/Desktop/Work/roster_scraper/scraper/src/components/Form.tsx\";\nimport React, { useState } from 'react';\nimport useAxios from \"axios-hooks\";\nimport \"./Form.css\";\nimport TableContainer from \"./TableContainer\";\n\nconst Form = () => {\n  const _useState = useState({\n    value: '',\n    showData: false,\n    teamUrls: []\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  async function scrape() {\n    const _ref = await useAxios({\n      url: 'http://localhost:2999/get_teams',\n      method: 'POST',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      data: {\n        \"value\": state.value\n      }\n    }).then(async response => {\n      if (response.ok) {\n        await response.json().then(json => {\n          setState({\n            showData: true,\n            teamUrls: json.teams,\n            value: state.value\n          });\n        });\n      }\n    }).catch(e => console.log(\"ERROR: \" + e)),\n          _ref2 = _slicedToArray(_ref, 2),\n          _ref2$ = _ref2[0],\n          data = _ref2$.data,\n          loading = _ref2$.loading,\n          error = _ref2$.error,\n          refetch = _ref2[1];\n  }\n\n  function handleChange(event) {\n    setState({\n      value: event.target.value,\n      teamUrls: state.teamUrls,\n      showData: state.showData\n    });\n  }\n\n  async function handleSubmit(event) {\n    event.persist();\n    event.preventDefault();\n    await scrape();\n  }\n\n  return React.createElement(\"div\", {\n    className: \"FormData\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Enter the school's athletics URL:\"), React.createElement(\"input\", {\n    type: \"text\",\n    value: state.value,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"Tables\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, state.showData ? React.createElement(TableContainer, {\n    urls: state.teamUrls,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }) : null));\n};\n\nexport default Form;","map":{"version":3,"sources":["/Users/admin/Desktop/Work/roster_scraper/scraper/src/components/Form.tsx"],"names":["React","useState","useAxios","TableContainer","Form","value","showData","teamUrls","state","setState","scrape","url","method","headers","data","then","response","ok","json","teams","catch","e","console","log","loading","error","refetch","handleChange","event","target","handleSubmit","persist","preventDefault"],"mappings":"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","sourcesContent":["import React, { FunctionComponent, useState } from 'react';\nimport useAxios from \"axios-hooks\";\nimport \"./Form.css\";\nimport TableContainer from \"./TableContainer\";\n\n\n\nexport interface formState {\n\tvalue: string;\n\tshowData: boolean;\n\tteamUrls: string[];\n}\n\nexport interface scrapeResponse {\n\tdata:string[][][];\n}\n\nconst Form:FunctionComponent<{}> = () => {\n  \tconst [state, setState] = useState<formState>({\n  \t\tvalue: '',\n  \t\tshowData: false,\n  \t\tteamUrls: []\n  \t})\n\n\tasync function scrape () {\n\t\tconst [{ data, loading, error }, refetch] = await useAxios({\n\t\t\turl: 'http://localhost:2999/get_teams',\n  \t\t\tmethod: 'POST',\n  \t\t\theaders: {\n  \t\t\t\t'Access-Control-Allow-Origin': '*',\n  \t\t\t\t'Accept': 'application/json',\n    \t\t\t'Content-Type': 'application/json'\n  \t\t\t},\n  \t\t\tdata: {\"value\": state.value}\n  \t\t})\n  \t\t\t.then(async (response) => {\n  \t\t\t\tif (response.ok) {\n  \t\t\t\t\tawait response.json().then(json => {\n  \t\t\t\t\t\tsetState({\n  \t\t\t\t\t\t\tshowData: true,\n  \t\t\t\t\t\t\tteamUrls: json.teams,\n  \t\t\t\t\t\t\tvalue: state.value\n  \t\t\t\t\t\t})\n  \t\t\t\t\t})\n  \t\t\t\t}\n  \t\t\t})\n\t\t\t.catch((e) => console.log(\"ERROR: \" + e))\n\t}\n\n\tfunction handleChange(event:any) {\n\t\tsetState({\n\t\t\tvalue: event.target.value,\n\t\t\tteamUrls: state.teamUrls,\n\t\t\tshowData: state.showData\n\t\t});\n\t}\n\n\tasync function handleSubmit(event:any) {\n\t\tevent.persist()\n\t\tevent.preventDefault();\n\t\tawait scrape();\n\t}\n\n\n\t\treturn(\n\t\t\t<div className=\"FormData\">\n\t\t\t\t<div className=\"Form\">\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t        \t<p>Enter the school's athletics URL:</p>\n\t\t\t        \t<input type=\"text\" value={state.value} onChange={handleChange} />\n\t\t\t        \t<br></br>\n\t\t\t        \t<input type=\"submit\" value=\"Submit\"/>\n\t\t\t      \t</form>\n\t\t\t    </div>\n\t\t\t    <div className=\"Tables\">\n\t\t\t    \t{state.showData ? <TableContainer urls={state.teamUrls}/> : null }\n\t\t\t    </div>\n\t\t\t</div>\n\t\t);\n}\n\n\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}