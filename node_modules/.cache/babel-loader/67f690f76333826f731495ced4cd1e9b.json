{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator/index.js\";\nimport React from 'react';\nimport StaticAxios from 'axios';\nimport LRU from 'lru-cache';\nvar actions = {\n  REQUEST_START: 'REQUEST_START',\n  REQUEST_END: 'REQUEST_END'\n};\nvar defaultUseAxios = makeUseAxios();\nvar __ssrPromises = defaultUseAxios.__ssrPromises,\n    resetConfigure = defaultUseAxios.resetConfigure,\n    configure = defaultUseAxios.configure,\n    loadCache = defaultUseAxios.loadCache,\n    serializeCache = defaultUseAxios.serializeCache;\nexport default defaultUseAxios;\nexport { __ssrPromises, resetConfigure, configure, loadCache, serializeCache };\nexport function makeUseAxios(configurationOptions) {\n  var cache;\n  var axiosInstance;\n  var __ssrPromises = [];\n\n  function resetConfigure() {\n    cache = new LRU();\n    axiosInstance = StaticAxios;\n  }\n\n  resetConfigure();\n\n  function configure(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.axios) {\n      axiosInstance = options.axios;\n    }\n\n    if (options.cache) {\n      cache = options.cache;\n    }\n  }\n\n  configure(configurationOptions);\n\n  function loadCache(data) {\n    cache.load(data);\n  }\n\n  function serializeCache() {\n    var ssrPromisesCopy;\n    return _regeneratorRuntime.async(function serializeCache$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ssrPromisesCopy = [].concat(__ssrPromises);\n            __ssrPromises.length = 0;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(Promise.all(ssrPromisesCopy));\n\n          case 4:\n            return _context.abrupt(\"return\", cache.dump());\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  return Object.assign(useAxios, {\n    __ssrPromises: __ssrPromises,\n    resetConfigure: resetConfigure,\n    configure: configure,\n    loadCache: loadCache,\n    serializeCache: serializeCache\n  });\n\n  function cacheAdapter(config) {\n    var cacheKey, hit, response, responseForCache;\n    return _regeneratorRuntime.async(function cacheAdapter$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            cacheKey = JSON.stringify(config);\n            hit = cache.get(cacheKey);\n\n            if (!hit) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", hit);\n\n          case 4:\n            delete config.adapter;\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(axiosInstance(config));\n\n          case 7:\n            response = _context2.sent;\n            responseForCache = _extends({}, response);\n            delete responseForCache.config;\n            delete responseForCache.request;\n            cache.set(cacheKey, responseForCache);\n            return _context2.abrupt(\"return\", response);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  }\n\n  function createInitialState(options) {\n    return {\n      loading: !options.manual\n    };\n  }\n\n  function reducer(state, action) {\n    var _extends2;\n\n    switch (action.type) {\n      case actions.REQUEST_START:\n        return _extends({}, state, {\n          loading: true,\n          error: null\n        });\n\n      case actions.REQUEST_END:\n        return _extends({}, state, {\n          loading: false\n        }, action.error ? {} : {\n          data: action.payload.data\n        }, (_extends2 = {}, _extends2[action.error ? 'error' : 'response'] = action.payload, _extends2));\n\n      default:\n        return state;\n    }\n  }\n\n  function request(config, dispatch) {\n    var response;\n    return _regeneratorRuntime.async(function request$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            dispatch({\n              type: actions.REQUEST_START\n            });\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(axiosInstance(config));\n\n          case 4:\n            response = _context3.sent;\n            dispatch({\n              type: actions.REQUEST_END,\n              payload: response\n            });\n            return _context3.abrupt(\"return\", response);\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](0);\n\n            if (!StaticAxios.isCancel(_context3.t0)) {\n              _context3.next = 13;\n              break;\n            }\n\n            return _context3.abrupt(\"return\");\n\n          case 13:\n            dispatch({\n              type: actions.REQUEST_END,\n              payload: _context3.t0,\n              error: true\n            });\n            throw _context3.t0;\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 9]]);\n  }\n\n  function executeRequestWithCache(config, dispatch) {\n    return request(_extends({}, config, {\n      adapter: cacheAdapter\n    }), dispatch);\n  }\n\n  function executeRequestWithoutCache(config, dispatch) {\n    return request(config, dispatch);\n  }\n\n  function executeRequest(config, options, dispatch) {\n    if (options.useCache) {\n      return executeRequestWithCache(config, dispatch);\n    }\n\n    return executeRequestWithoutCache(config, dispatch);\n  }\n\n  function useAxios(config, options) {\n    if (typeof config === 'string') {\n      config = {\n        url: config\n      };\n    }\n\n    var stringifiedConfig = JSON.stringify(config);\n    options = _extends({\n      manual: false,\n      useCache: true\n    }, options);\n    var cancelSourceRef = React.useRef();\n\n    var _React$useReducer = React.useReducer(reducer, createInitialState(options)),\n        state = _React$useReducer[0],\n        dispatch = _React$useReducer[1];\n\n    if (typeof window === 'undefined' && !options.manual) {\n      useAxios.__ssrPromises.push(axiosInstance(_extends({}, config, {\n        adapter: cacheAdapter\n      })));\n    }\n\n    React.useEffect(function () {\n      cancelSourceRef.current = StaticAxios.CancelToken.source();\n\n      if (!options.manual) {\n        executeRequest(_extends({\n          cancelToken: cancelSourceRef.current.token\n        }, config), options, dispatch)[\"catch\"](function () {});\n      }\n\n      return function () {\n        return cancelSourceRef.current.cancel();\n      }; // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [stringifiedConfig]);\n    var refetch = React.useCallback(function (configOverride, options) {\n      return executeRequest(_extends({\n        cancelToken: cancelSourceRef.current.token\n      }, config, {}, configOverride), _extends({\n        useCache: false\n      }, options), dispatch);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [stringifiedConfig]);\n    return [state, refetch];\n  }\n}","map":{"version":3,"sources":["/Users/admin/Desktop/Work/roster_scraper/scraper/node_modules/axios-hooks/es/index.js"],"names":["_extends","_regeneratorRuntime","React","StaticAxios","LRU","actions","REQUEST_START","REQUEST_END","defaultUseAxios","makeUseAxios","__ssrPromises","resetConfigure","configure","loadCache","serializeCache","configurationOptions","cache","axiosInstance","options","axios","data","load","ssrPromisesCopy","async","serializeCache$","_context","prev","next","concat","length","awrap","Promise","all","abrupt","dump","stop","Object","assign","useAxios","cacheAdapter","config","cacheKey","hit","response","responseForCache","cacheAdapter$","_context2","JSON","stringify","get","adapter","sent","request","set","createInitialState","loading","manual","reducer","state","action","_extends2","type","error","payload","dispatch","request$","_context3","t0","isCancel","executeRequestWithCache","executeRequestWithoutCache","executeRequest","useCache","url","stringifiedConfig","cancelSourceRef","useRef","_React$useReducer","useReducer","window","push","useEffect","current","CancelToken","source","cancelToken","token","cancel","refetch","useCallback","configOverride"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,uCAArB;AACA,OAAOC,mBAAP,MAAgC,qCAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,OAAxB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,IAAIC,OAAO,GAAG;AACZC,EAAAA,aAAa,EAAE,eADH;AAEZC,EAAAA,WAAW,EAAE;AAFD,CAAd;AAIA,IAAIC,eAAe,GAAGC,YAAY,EAAlC;AACA,IAAIC,aAAa,GAAGF,eAAe,CAACE,aAApC;AAAA,IACIC,cAAc,GAAGH,eAAe,CAACG,cADrC;AAAA,IAEIC,SAAS,GAAGJ,eAAe,CAACI,SAFhC;AAAA,IAGIC,SAAS,GAAGL,eAAe,CAACK,SAHhC;AAAA,IAIIC,cAAc,GAAGN,eAAe,CAACM,cAJrC;AAKA,eAAeN,eAAf;AACA,SAASE,aAAT,EAAwBC,cAAxB,EAAwCC,SAAxC,EAAmDC,SAAnD,EAA8DC,cAA9D;AACA,OAAO,SAASL,YAAT,CAAsBM,oBAAtB,EAA4C;AACjD,MAAIC,KAAJ;AACA,MAAIC,aAAJ;AACA,MAAIP,aAAa,GAAG,EAApB;;AAEA,WAASC,cAAT,GAA0B;AACxBK,IAAAA,KAAK,GAAG,IAAIZ,GAAJ,EAAR;AACAa,IAAAA,aAAa,GAAGd,WAAhB;AACD;;AAEDQ,EAAAA,cAAc;;AAEd,WAASC,SAAT,CAAmBM,OAAnB,EAA4B;AAC1B,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AACtBA,MAAAA,OAAO,GAAG,EAAV;AACD;;AAED,QAAIA,OAAO,CAACC,KAAZ,EAAmB;AACjBF,MAAAA,aAAa,GAAGC,OAAO,CAACC,KAAxB;AACD;;AAED,QAAID,OAAO,CAACF,KAAZ,EAAmB;AACjBA,MAAAA,KAAK,GAAGE,OAAO,CAACF,KAAhB;AACD;AACF;;AAEDJ,EAAAA,SAAS,CAACG,oBAAD,CAAT;;AAEA,WAASF,SAAT,CAAmBO,IAAnB,EAAyB;AACvBJ,IAAAA,KAAK,CAACK,IAAN,CAAWD,IAAX;AACD;;AAED,WAASN,cAAT,GAA0B;AACxB,QAAIQ,eAAJ;AACA,WAAOrB,mBAAmB,CAACsB,KAApB,CAA0B,SAASC,eAAT,CAAyBC,QAAzB,EAAmC;AAClE,aAAO,CAAP,EAAU;AACR,gBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,eAAK,CAAL;AACEL,YAAAA,eAAe,GAAG,GAAGM,MAAH,CAAUlB,aAAV,CAAlB;AACAA,YAAAA,aAAa,CAACmB,MAAd,GAAuB,CAAvB;AACAJ,YAAAA,QAAQ,CAACE,IAAT,GAAgB,CAAhB;AACA,mBAAO1B,mBAAmB,CAAC6B,KAApB,CAA0BC,OAAO,CAACC,GAAR,CAAYV,eAAZ,CAA1B,CAAP;;AAEF,eAAK,CAAL;AACE,mBAAOG,QAAQ,CAACQ,MAAT,CAAgB,QAAhB,EAA0BjB,KAAK,CAACkB,IAAN,EAA1B,CAAP;;AAEF,eAAK,CAAL;AACA,eAAK,KAAL;AACE,mBAAOT,QAAQ,CAACU,IAAT,EAAP;AAZJ;AAcD;AACF,KAjBM,CAAP;AAkBD;;AAED,SAAOC,MAAM,CAACC,MAAP,CAAcC,QAAd,EAAwB;AAC7B5B,IAAAA,aAAa,EAAEA,aADc;AAE7BC,IAAAA,cAAc,EAAEA,cAFa;AAG7BC,IAAAA,SAAS,EAAEA,SAHkB;AAI7BC,IAAAA,SAAS,EAAEA,SAJkB;AAK7BC,IAAAA,cAAc,EAAEA;AALa,GAAxB,CAAP;;AAQA,WAASyB,YAAT,CAAsBC,MAAtB,EAA8B;AAC5B,QAAIC,QAAJ,EAAcC,GAAd,EAAmBC,QAAnB,EAA6BC,gBAA7B;AACA,WAAO3C,mBAAmB,CAACsB,KAApB,CAA0B,SAASsB,aAAT,CAAuBC,SAAvB,EAAkC;AACjE,aAAO,CAAP,EAAU;AACR,gBAAQA,SAAS,CAACpB,IAAV,GAAiBoB,SAAS,CAACnB,IAAnC;AACE,eAAK,CAAL;AACEc,YAAAA,QAAQ,GAAGM,IAAI,CAACC,SAAL,CAAeR,MAAf,CAAX;AACAE,YAAAA,GAAG,GAAG1B,KAAK,CAACiC,GAAN,CAAUR,QAAV,CAAN;;AAEA,gBAAI,CAACC,GAAL,EAAU;AACRI,cAAAA,SAAS,CAACnB,IAAV,GAAiB,CAAjB;AACA;AACD;;AAED,mBAAOmB,SAAS,CAACb,MAAV,CAAiB,QAAjB,EAA2BS,GAA3B,CAAP;;AAEF,eAAK,CAAL;AACE,mBAAOF,MAAM,CAACU,OAAd;AACAJ,YAAAA,SAAS,CAACnB,IAAV,GAAiB,CAAjB;AACA,mBAAO1B,mBAAmB,CAAC6B,KAApB,CAA0Bb,aAAa,CAACuB,MAAD,CAAvC,CAAP;;AAEF,eAAK,CAAL;AACEG,YAAAA,QAAQ,GAAGG,SAAS,CAACK,IAArB;AACAP,YAAAA,gBAAgB,GAAG5C,QAAQ,CAAC,EAAD,EAAK2C,QAAL,CAA3B;AACA,mBAAOC,gBAAgB,CAACJ,MAAxB;AACA,mBAAOI,gBAAgB,CAACQ,OAAxB;AACApC,YAAAA,KAAK,CAACqC,GAAN,CAAUZ,QAAV,EAAoBG,gBAApB;AACA,mBAAOE,SAAS,CAACb,MAAV,CAAiB,QAAjB,EAA2BU,QAA3B,CAAP;;AAEF,eAAK,EAAL;AACA,eAAK,KAAL;AACE,mBAAOG,SAAS,CAACX,IAAV,EAAP;AA3BJ;AA6BD;AACF,KAhCM,CAAP;AAiCD;;AAED,WAASmB,kBAAT,CAA4BpC,OAA5B,EAAqC;AACnC,WAAO;AACLqC,MAAAA,OAAO,EAAE,CAACrC,OAAO,CAACsC;AADb,KAAP;AAGD;;AAED,WAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;AAC9B,QAAIC,SAAJ;;AAEA,YAAQD,MAAM,CAACE,IAAf;AACE,WAAKxD,OAAO,CAACC,aAAb;AACE,eAAON,QAAQ,CAAC,EAAD,EAAK0D,KAAL,EAAY;AACzBH,UAAAA,OAAO,EAAE,IADgB;AAEzBO,UAAAA,KAAK,EAAE;AAFkB,SAAZ,CAAf;;AAKF,WAAKzD,OAAO,CAACE,WAAb;AACE,eAAOP,QAAQ,CAAC,EAAD,EAAK0D,KAAL,EAAY;AACzBH,UAAAA,OAAO,EAAE;AADgB,SAAZ,EAEZI,MAAM,CAACG,KAAP,GAAe,EAAf,GAAoB;AACrB1C,UAAAA,IAAI,EAAEuC,MAAM,CAACI,OAAP,CAAe3C;AADA,SAFR,GAIXwC,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAACD,MAAM,CAACG,KAAP,GAAe,OAAf,GAAyB,UAA1B,CAAT,GAAiDH,MAAM,CAACI,OAAxE,EAAiFH,SAJtE,EAAf;;AAMF;AACE,eAAOF,KAAP;AAfJ;AAiBD;;AAED,WAASN,OAAT,CAAiBZ,MAAjB,EAAyBwB,QAAzB,EAAmC;AACjC,QAAIrB,QAAJ;AACA,WAAO1C,mBAAmB,CAACsB,KAApB,CAA0B,SAAS0C,QAAT,CAAkBC,SAAlB,EAA6B;AAC5D,aAAO,CAAP,EAAU;AACR,gBAAQA,SAAS,CAACxC,IAAV,GAAiBwC,SAAS,CAACvC,IAAnC;AACE,eAAK,CAAL;AACEuC,YAAAA,SAAS,CAACxC,IAAV,GAAiB,CAAjB;AACAsC,YAAAA,QAAQ,CAAC;AACPH,cAAAA,IAAI,EAAExD,OAAO,CAACC;AADP,aAAD,CAAR;AAGA4D,YAAAA,SAAS,CAACvC,IAAV,GAAiB,CAAjB;AACA,mBAAO1B,mBAAmB,CAAC6B,KAApB,CAA0Bb,aAAa,CAACuB,MAAD,CAAvC,CAAP;;AAEF,eAAK,CAAL;AACEG,YAAAA,QAAQ,GAAGuB,SAAS,CAACf,IAArB;AACAa,YAAAA,QAAQ,CAAC;AACPH,cAAAA,IAAI,EAAExD,OAAO,CAACE,WADP;AAEPwD,cAAAA,OAAO,EAAEpB;AAFF,aAAD,CAAR;AAIA,mBAAOuB,SAAS,CAACjC,MAAV,CAAiB,QAAjB,EAA2BU,QAA3B,CAAP;;AAEF,eAAK,CAAL;AACEuB,YAAAA,SAAS,CAACxC,IAAV,GAAiB,CAAjB;AACAwC,YAAAA,SAAS,CAACC,EAAV,GAAeD,SAAS,CAAC,OAAD,CAAT,CAAmB,CAAnB,CAAf;;AAEA,gBAAI,CAAC/D,WAAW,CAACiE,QAAZ,CAAqBF,SAAS,CAACC,EAA/B,CAAL,EAAyC;AACvCD,cAAAA,SAAS,CAACvC,IAAV,GAAiB,EAAjB;AACA;AACD;;AAED,mBAAOuC,SAAS,CAACjC,MAAV,CAAiB,QAAjB,CAAP;;AAEF,eAAK,EAAL;AACE+B,YAAAA,QAAQ,CAAC;AACPH,cAAAA,IAAI,EAAExD,OAAO,CAACE,WADP;AAEPwD,cAAAA,OAAO,EAAEG,SAAS,CAACC,EAFZ;AAGPL,cAAAA,KAAK,EAAE;AAHA,aAAD,CAAR;AAKA,kBAAMI,SAAS,CAACC,EAAhB;;AAEF,eAAK,EAAL;AACA,eAAK,KAAL;AACE,mBAAOD,SAAS,CAAC/B,IAAV,EAAP;AAtCJ;AAwCD;AACF,KA3CM,EA2CJ,IA3CI,EA2CE,IA3CF,EA2CQ,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CA3CR,CAAP;AA4CD;;AAED,WAASkC,uBAAT,CAAiC7B,MAAjC,EAAyCwB,QAAzC,EAAmD;AACjD,WAAOZ,OAAO,CAACpD,QAAQ,CAAC,EAAD,EAAKwC,MAAL,EAAa;AAClCU,MAAAA,OAAO,EAAEX;AADyB,KAAb,CAAT,EAEVyB,QAFU,CAAd;AAGD;;AAED,WAASM,0BAAT,CAAoC9B,MAApC,EAA4CwB,QAA5C,EAAsD;AACpD,WAAOZ,OAAO,CAACZ,MAAD,EAASwB,QAAT,CAAd;AACD;;AAED,WAASO,cAAT,CAAwB/B,MAAxB,EAAgCtB,OAAhC,EAAyC8C,QAAzC,EAAmD;AACjD,QAAI9C,OAAO,CAACsD,QAAZ,EAAsB;AACpB,aAAOH,uBAAuB,CAAC7B,MAAD,EAASwB,QAAT,CAA9B;AACD;;AAED,WAAOM,0BAA0B,CAAC9B,MAAD,EAASwB,QAAT,CAAjC;AACD;;AAED,WAAS1B,QAAT,CAAkBE,MAAlB,EAA0BtB,OAA1B,EAAmC;AACjC,QAAI,OAAOsB,MAAP,KAAkB,QAAtB,EAAgC;AAC9BA,MAAAA,MAAM,GAAG;AACPiC,QAAAA,GAAG,EAAEjC;AADE,OAAT;AAGD;;AAED,QAAIkC,iBAAiB,GAAG3B,IAAI,CAACC,SAAL,CAAeR,MAAf,CAAxB;AACAtB,IAAAA,OAAO,GAAGlB,QAAQ,CAAC;AACjBwD,MAAAA,MAAM,EAAE,KADS;AAEjBgB,MAAAA,QAAQ,EAAE;AAFO,KAAD,EAGftD,OAHe,CAAlB;AAIA,QAAIyD,eAAe,GAAGzE,KAAK,CAAC0E,MAAN,EAAtB;;AAEA,QAAIC,iBAAiB,GAAG3E,KAAK,CAAC4E,UAAN,CAAiBrB,OAAjB,EAA0BH,kBAAkB,CAACpC,OAAD,CAA5C,CAAxB;AAAA,QACIwC,KAAK,GAAGmB,iBAAiB,CAAC,CAAD,CAD7B;AAAA,QAEIb,QAAQ,GAAGa,iBAAiB,CAAC,CAAD,CAFhC;;AAIA,QAAI,OAAOE,MAAP,KAAkB,WAAlB,IAAiC,CAAC7D,OAAO,CAACsC,MAA9C,EAAsD;AACpDlB,MAAAA,QAAQ,CAAC5B,aAAT,CAAuBsE,IAAvB,CAA4B/D,aAAa,CAACjB,QAAQ,CAAC,EAAD,EAAKwC,MAAL,EAAa;AAC7DU,QAAAA,OAAO,EAAEX;AADoD,OAAb,CAAT,CAAzC;AAGD;;AAEDrC,IAAAA,KAAK,CAAC+E,SAAN,CAAgB,YAAY;AAC1BN,MAAAA,eAAe,CAACO,OAAhB,GAA0B/E,WAAW,CAACgF,WAAZ,CAAwBC,MAAxB,EAA1B;;AAEA,UAAI,CAAClE,OAAO,CAACsC,MAAb,EAAqB;AACnBe,QAAAA,cAAc,CAACvE,QAAQ,CAAC;AACtBqF,UAAAA,WAAW,EAAEV,eAAe,CAACO,OAAhB,CAAwBI;AADf,SAAD,EAEpB9C,MAFoB,CAAT,EAEFtB,OAFE,EAEO8C,QAFP,CAAd,CAE+B,OAF/B,EAEwC,YAAY,CAAE,CAFtD;AAGD;;AAED,aAAO,YAAY;AACjB,eAAOW,eAAe,CAACO,OAAhB,CAAwBK,MAAxB,EAAP;AACD,OAFD,CAT0B,CAWvB;AACJ,KAZD,EAYG,CAACb,iBAAD,CAZH;AAaA,QAAIc,OAAO,GAAGtF,KAAK,CAACuF,WAAN,CAAkB,UAAUC,cAAV,EAA0BxE,OAA1B,EAAmC;AACjE,aAAOqD,cAAc,CAACvE,QAAQ,CAAC;AAC7BqF,QAAAA,WAAW,EAAEV,eAAe,CAACO,OAAhB,CAAwBI;AADR,OAAD,EAE3B9C,MAF2B,EAEnB,EAFmB,EAEfkD,cAFe,CAAT,EAEW1F,QAAQ,CAAC;AACvCwE,QAAAA,QAAQ,EAAE;AAD6B,OAAD,EAErCtD,OAFqC,CAFnB,EAIR8C,QAJQ,CAArB;AAKD,KANa,EAMX;AACH,KAACU,iBAAD,CAPc,CAAd;AAQA,WAAO,CAAChB,KAAD,EAAQ8B,OAAR,CAAP;AACD;AACF","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator/index.js\";\nimport React from 'react';\nimport StaticAxios from 'axios';\nimport LRU from 'lru-cache';\nvar actions = {\n  REQUEST_START: 'REQUEST_START',\n  REQUEST_END: 'REQUEST_END'\n};\nvar defaultUseAxios = makeUseAxios();\nvar __ssrPromises = defaultUseAxios.__ssrPromises,\n    resetConfigure = defaultUseAxios.resetConfigure,\n    configure = defaultUseAxios.configure,\n    loadCache = defaultUseAxios.loadCache,\n    serializeCache = defaultUseAxios.serializeCache;\nexport default defaultUseAxios;\nexport { __ssrPromises, resetConfigure, configure, loadCache, serializeCache };\nexport function makeUseAxios(configurationOptions) {\n  var cache;\n  var axiosInstance;\n  var __ssrPromises = [];\n\n  function resetConfigure() {\n    cache = new LRU();\n    axiosInstance = StaticAxios;\n  }\n\n  resetConfigure();\n\n  function configure(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.axios) {\n      axiosInstance = options.axios;\n    }\n\n    if (options.cache) {\n      cache = options.cache;\n    }\n  }\n\n  configure(configurationOptions);\n\n  function loadCache(data) {\n    cache.load(data);\n  }\n\n  function serializeCache() {\n    var ssrPromisesCopy;\n    return _regeneratorRuntime.async(function serializeCache$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ssrPromisesCopy = [].concat(__ssrPromises);\n            __ssrPromises.length = 0;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(Promise.all(ssrPromisesCopy));\n\n          case 4:\n            return _context.abrupt(\"return\", cache.dump());\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  return Object.assign(useAxios, {\n    __ssrPromises: __ssrPromises,\n    resetConfigure: resetConfigure,\n    configure: configure,\n    loadCache: loadCache,\n    serializeCache: serializeCache\n  });\n\n  function cacheAdapter(config) {\n    var cacheKey, hit, response, responseForCache;\n    return _regeneratorRuntime.async(function cacheAdapter$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            cacheKey = JSON.stringify(config);\n            hit = cache.get(cacheKey);\n\n            if (!hit) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", hit);\n\n          case 4:\n            delete config.adapter;\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(axiosInstance(config));\n\n          case 7:\n            response = _context2.sent;\n            responseForCache = _extends({}, response);\n            delete responseForCache.config;\n            delete responseForCache.request;\n            cache.set(cacheKey, responseForCache);\n            return _context2.abrupt(\"return\", response);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    });\n  }\n\n  function createInitialState(options) {\n    return {\n      loading: !options.manual\n    };\n  }\n\n  function reducer(state, action) {\n    var _extends2;\n\n    switch (action.type) {\n      case actions.REQUEST_START:\n        return _extends({}, state, {\n          loading: true,\n          error: null\n        });\n\n      case actions.REQUEST_END:\n        return _extends({}, state, {\n          loading: false\n        }, action.error ? {} : {\n          data: action.payload.data\n        }, (_extends2 = {}, _extends2[action.error ? 'error' : 'response'] = action.payload, _extends2));\n\n      default:\n        return state;\n    }\n  }\n\n  function request(config, dispatch) {\n    var response;\n    return _regeneratorRuntime.async(function request$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            dispatch({\n              type: actions.REQUEST_START\n            });\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(axiosInstance(config));\n\n          case 4:\n            response = _context3.sent;\n            dispatch({\n              type: actions.REQUEST_END,\n              payload: response\n            });\n            return _context3.abrupt(\"return\", response);\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](0);\n\n            if (!StaticAxios.isCancel(_context3.t0)) {\n              _context3.next = 13;\n              break;\n            }\n\n            return _context3.abrupt(\"return\");\n\n          case 13:\n            dispatch({\n              type: actions.REQUEST_END,\n              payload: _context3.t0,\n              error: true\n            });\n            throw _context3.t0;\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 9]]);\n  }\n\n  function executeRequestWithCache(config, dispatch) {\n    return request(_extends({}, config, {\n      adapter: cacheAdapter\n    }), dispatch);\n  }\n\n  function executeRequestWithoutCache(config, dispatch) {\n    return request(config, dispatch);\n  }\n\n  function executeRequest(config, options, dispatch) {\n    if (options.useCache) {\n      return executeRequestWithCache(config, dispatch);\n    }\n\n    return executeRequestWithoutCache(config, dispatch);\n  }\n\n  function useAxios(config, options) {\n    if (typeof config === 'string') {\n      config = {\n        url: config\n      };\n    }\n\n    var stringifiedConfig = JSON.stringify(config);\n    options = _extends({\n      manual: false,\n      useCache: true\n    }, options);\n    var cancelSourceRef = React.useRef();\n\n    var _React$useReducer = React.useReducer(reducer, createInitialState(options)),\n        state = _React$useReducer[0],\n        dispatch = _React$useReducer[1];\n\n    if (typeof window === 'undefined' && !options.manual) {\n      useAxios.__ssrPromises.push(axiosInstance(_extends({}, config, {\n        adapter: cacheAdapter\n      })));\n    }\n\n    React.useEffect(function () {\n      cancelSourceRef.current = StaticAxios.CancelToken.source();\n\n      if (!options.manual) {\n        executeRequest(_extends({\n          cancelToken: cancelSourceRef.current.token\n        }, config), options, dispatch)[\"catch\"](function () {});\n      }\n\n      return function () {\n        return cancelSourceRef.current.cancel();\n      }; // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [stringifiedConfig]);\n    var refetch = React.useCallback(function (configOverride, options) {\n      return executeRequest(_extends({\n        cancelToken: cancelSourceRef.current.token\n      }, config, {}, configOverride), _extends({\n        useCache: false\n      }, options), dispatch);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    [stringifiedConfig]);\n    return [state, refetch];\n  }\n}"]},"metadata":{},"sourceType":"module"}